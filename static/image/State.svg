<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="687" height="497" viewBox="-0.5 -0.5 687 497">
        <defs><style> @import url(https://fonts.googleapis.com/css?family=Fira+Code); </style></defs>
        <path fill="#FFF" stroke="gray" d="M445 195h200v60H445z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexdiv flexzero" style="width:198px;padding-top:225px;margin-left:446px"><div  class="centerdiv"><div class="normaldiv">Concrete<br/>State<br/></div></div></div></foreignObject><path fill="#FFF" stroke="gray" d="M445 285h200v30H445z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:198px;padding-top:300px;margin-left:447px"><div  class="leftdiv"><div class="normaldiv"><div>+ setContext(context)</div></div></div></div></foreignObject><path fill="#FFF" stroke="gray" d="M445 255h200v30H445z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:198px;padding-top:270px;margin-left:447px"><div  class="leftdiv"><div class="normaldiv"><div>- context</div></div></div></div></foreignObject><path fill="#FFF" stroke="gray" d="M445 315h200v30H445z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:198px;padding-top:330px;margin-left:447px"><div  class="leftdiv"><div class="normaldiv"><div>+ doThis()</div></div></div></div></foreignObject><path fill="#FFF" stroke="gray" d="M445 345h200v30H445z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:198px;padding-top:360px;margin-left:447px"><div  class="leftdiv"><div class="normaldiv"><div>+ doThat()</div></div></div></div></foreignObject><path class="none-stroke" d="M95 0h280v30H95z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexdiv flexzero" style="width:278px;padding-top:15px;margin-left:96px"><div  class="centerdiv"><div class="normaldiv">Context<br/></div></div></div></foreignObject><path class="none-stroke" d="M95 30h280v30H95z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:278px;padding-top:45px;margin-left:97px"><div  class="leftdiv"><div class="normaldiv"><div>- state</div></div></div></div></foreignObject><path class="none-stroke" d="M95 60h280v30H95z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:278px;padding-top:75px;margin-left:97px"><div  class="leftdiv"><div class="normaldiv"><div>+ Context(initialState)</div></div></div></div></foreignObject><path class="none-stroke" d="M95 90h280v30H95z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:278px;padding-top:105px;margin-left:97px"><div  class="leftdiv"><div class="normaldiv"><div>+ changeState(state)</div></div></div></div></foreignObject><path class="none-stroke" d="M95 120h280v30H95z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:278px;padding-top:135px;margin-left:97px"><div  class="leftdiv"><div class="normaldiv"><div>+ doThis()</div></div></div></div></foreignObject><path class="none-stroke" d="M95 150h280v30H95z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:278px;padding-top:165px;margin-left:97px"><div  class="leftdiv"><div class="normaldiv"><div>+ doThat()</div></div></div></div></foreignObject><path class="none-stroke" stroke-dasharray="6 6" stroke-miterlimit="10" stroke-width="2" d="M55.02 205 55 75h40" /><path fill="#e1e1e1" stroke="gray" stroke-miterlimit="10" d="M0 205h200l10 10v40H0v-50Z" /><path fill-opacity=".05" d="M200 205v10h10Z" /><path class="none-stroke" stroke-miterlimit="10" d="M200 205v10h10" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:208px;padding-top:230px;margin-left:2px"><div class="leftdiv"><div class="normaldiv">this.state = state<br/>state.setContext(this)</div></div></div></foreignObject><path class="none-stroke" stroke-miterlimit="10" stroke-width="2" d="M235 300V184.47" /><path class="none-stroke" stroke-miterlimit="10" stroke-width="2" d="m242 196.24-7-14-7 14" /><path class="none-stroke" stroke-dasharray="6 6" stroke-miterlimit="10" stroke-width="2" d="M295 320h135.53" /><path class="none-stroke" stroke-miterlimit="10" stroke-width="2" d="m418.76 327 14-7-14-7" /><path class="none-stroke" d="M175 300h120v40H175z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexdiv flexzero" style="width:118px;padding-top:320px;margin-left:176px"><div  class="centerdiv"><div class="normaldiv">Client<br/></div></div></div></foreignObject><path class="none-stroke" stroke-miterlimit="10" stroke-width="2" d="M450.53 45h-59.56" /><path class="none-stroke" stroke-miterlimit="10" stroke-width="2" d="m438.76 52 14-7-14-7M376.97 45l7-4.12 7 4.12-7 4.12Z" /><path class="none-stroke" d="M455 0h160v60H455z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexdiv flexzero" style="width:158px;padding-top:30px;margin-left:456px"><div  class="centerdiv"><div class="normaldiv">&lt;&lt;interface&gt;&gt;<br/>State<br/></div></div></div></foreignObject><path class="none-stroke" stroke-dasharray="6 6" stroke-miterlimit="10" stroke-width="2" d="M235 375v-35" /><path fill="#e1e1e1" stroke="gray" stroke-miterlimit="10" d="M70 375h320l10 10v110H70V375Z" /><path fill-opacity=".05" d="M390 375v10h10Z" /><path class="none-stroke" stroke-miterlimit="10" d="M390 375v10h10" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:328px;padding-top:435px;margin-left:72px"><div class="leftdiv"><div class="normaldiv">initialState = new ConcreteState()<br/>context = new Context(initialState)<br/>context.doThis()<br/>// Current state may have been<br/>// changed by context or the state<br/>// object self.</div></div></div></foreignObject><path class="none-stroke" d="M455 60h160v30H455z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:158px;padding-top:75px;margin-left:457px"><div  class="leftdiv"><div class="normaldiv"><div>+ doThis()</div></div></div></div></foreignObject><path class="none-stroke" stroke-dasharray="6 6" stroke-miterlimit="10" stroke-width="2" d="M535 185v-48.76" /><path class="none-stroke" stroke-miterlimit="10" stroke-width="2" d="m535 122.24 7 14h-14Z" /><path fill="#FFF" stroke="gray" d="M435 185h200v60H435z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexdiv flexzero" style="width:198px;padding-top:215px;margin-left:436px"><div  class="centerdiv"><div class="normaldiv">Concrete<br/>State<br/></div></div></div></foreignObject><path fill="#FFF" stroke="gray" d="M435 275h200v30H435z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:198px;padding-top:290px;margin-left:437px"><div  class="leftdiv"><div class="normaldiv"><div>+ setContext(context)</div></div></div></div></foreignObject><path class="none-stroke" stroke-dasharray="6 6" stroke-miterlimit="10" stroke-width="2" d="M255 215v-80h-50" /><path fill="#e1e1e1" stroke="gray" stroke-miterlimit="10" d="M255 215h130l10 10v30H255v-40Z" /><path fill-opacity=".05" d="M385 215v10h10Z" /><path class="none-stroke" stroke-miterlimit="10" d="M385 215v10h10" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:138px;padding-top:235px;margin-left:257px"><div class="leftdiv"><div class="normaldiv">state.doThis()</div></div></div></foreignObject><path fill="#FFF" stroke="gray" d="M435 245h200v30H435z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:198px;padding-top:260px;margin-left:437px"><div  class="leftdiv"><div class="normaldiv"><div>- context</div></div></div></div></foreignObject><path fill="#FFF" stroke="gray" d="M435 305h200v30H435z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:198px;padding-top:320px;margin-left:437px"><div  class="leftdiv"><div class="normaldiv"><div>+ doThis()</div></div></div></div></foreignObject><path fill="#FFF" stroke="gray" d="M435 335h200v30H435z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:198px;padding-top:350px;margin-left:437px"><div  class="leftdiv"><div class="normaldiv"><div>+ doThat()</div></div></div></div></foreignObject><path class="none-stroke" d="M455 90h160v30H455z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:158px;padding-top:105px;margin-left:457px"><div  class="leftdiv"><div class="normaldiv"><div>+ doThat()</div></div></div></div></foreignObject><circle cx="200" cy="135" r="5" fill="#FFF" stroke="gray" stroke-width="2" /><path class="none-stroke" stroke-dasharray="6 6" stroke-miterlimit="10" stroke-width="2" d="M435 405v-40" /><path fill="#e1e1e1" stroke="gray" stroke-miterlimit="10" d="M435 405h240l10 10v80H435v-90Z" /><path fill-opacity=".05" d="M675 405v10h10Z" /><path class="none-stroke" stroke-miterlimit="10" d="M675 405v10h10" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:248px;padding-top:450px;margin-left:437px"><div class="leftdiv"><div class="normaldiv">// A state may issue state<br/>// transition in context<br/>state = new OtherState()<br/>context.changeState(state)</div></div></div></foreignObject></svg>