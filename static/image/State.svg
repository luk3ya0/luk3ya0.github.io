<?xml version="1.0" encoding="utf-8"?><svg height="497px" version="1.1" viewBox="-0.5 -0.5 687 497" width="687px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs/><rect class="fill-stroke" height="60" width="200" x="445" y="195"/><foreignObject class="leftdiv" ><div class="flexcenter flexzero" style="width:198px;padding-top:225px;margin-left:446px" xmlns="http://www.w3.org/1999/xhtml"><div class="centerdiv"><div class="normaldiv">Concrete<br/>State<br/></div></div></div></foreignObject><rect class="fill-stroke" height="30" width="200" x="445" y="285"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:300px;margin-left:447px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">+ setContext(context)</div></div></div></div></foreignObject><rect class="fill-stroke" height="30" width="200" x="445" y="255"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:270px;margin-left:447px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">- context</div></div></div></div></foreignObject><rect class="fill-stroke" height="30" width="200" x="445" y="315"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:330px;margin-left:447px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">+ doThis()</div></div></div></div></foreignObject><rect class="fill-stroke" height="30" width="200" x="445" y="345"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:360px;margin-left:447px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">+ doThat()</div></div></div></div></foreignObject><rect height="30" class="none-stroke" width="280" x="95" y="0"/><foreignObject class="leftdiv" ><div class="flexcenter flexzero" style="width:278px;padding-top:15px;margin-left:96px" xmlns="http://www.w3.org/1999/xhtml"><div class="centerdiv"><div class="normaldiv">Context<br/></div></div></div></foreignObject><rect height="30" class="none-stroke" width="280" x="95" y="30"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:278px;padding-top:45px;margin-left:97px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">- state</div></div></div></div></foreignObject><rect height="30" class="none-stroke" width="280" x="95" y="60"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:278px;padding-top:75px;margin-left:97px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">+ Context(initialState)</div></div></div></div></foreignObject><rect height="30" class="none-stroke" width="280" x="95" y="90"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:278px;padding-top:105px;margin-left:97px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">+ changeState(state)</div></div></div></div></foreignObject><rect height="30" class="none-stroke" width="280" x="95" y="120"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:278px;padding-top:135px;margin-left:97px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">+ doThis()</div></div></div></div></foreignObject><rect height="30" class="none-stroke" width="280" x="95" y="150"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:278px;padding-top:165px;margin-left:97px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">+ doThat()</div></div></div></div></foreignObject><path d="M 55.02 205 L 55 75 L 95 75" class="none-stroke" stroke-dasharray="6 6" stroke-miterlimit="10" stroke-width="2"/><path d="M 0 205 L 200 205 L 210 215 L 210 255 L 0 255 L 0 205 Z" class="fill-stroke" stroke-miterlimit="10"/><path d="M 200 205 L 200 215 L 210 215 Z" fill-opacity="0.05" class="fill-none"/><path d="M 200 205 L 200 215 L 210 215" class="none-stroke" stroke-miterlimit="10"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:208px;padding-top:230px;margin-left:2px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv">this.state = state<br/>state.setContext(this)</div></div></div></foreignObject><path d="M 235 300 L 235 184.47" class="none-stroke" stroke-miterlimit="10" stroke-width="2"/><path d="M 242 196.24 L 235 182.24 L 228 196.24" class="none-stroke" stroke-miterlimit="10" stroke-width="2"/><path d="M 295 320 L 430.53 320" class="none-stroke" stroke-dasharray="6 6" stroke-miterlimit="10" stroke-width="2"/><path d="M 418.76 327 L 432.76 320 L 418.76 313" class="none-stroke" stroke-miterlimit="10" stroke-width="2"/><rect height="40" class="none-stroke" width="120" x="175" y="300"/><foreignObject class="leftdiv" ><div class="flexcenter flexzero" style="width:118px;padding-top:320px;margin-left:176px" xmlns="http://www.w3.org/1999/xhtml"><div class="centerdiv"><div class="normaldiv">Client<br/></div></div></div></foreignObject><path d="M 450.53 45 L 390.97 45" class="none-stroke" stroke-miterlimit="10" stroke-width="2"/><path d="M 438.76 52 L 452.76 45 L 438.76 38" class="none-stroke" stroke-miterlimit="10" stroke-width="2"/><path d="M 376.97 45 L 383.97 40.88 L 390.97 45 L 383.97 49.12 Z" class="none-stroke" stroke-miterlimit="10" stroke-width="2"/><rect height="60" class="none-stroke" width="160" x="455" y="0"/><foreignObject class="leftdiv" ><div class="flexcenter flexzero" style="width:158px;padding-top:30px;margin-left:456px" xmlns="http://www.w3.org/1999/xhtml"><div class="centerdiv"><div class="normaldiv">&lt;&lt;interface&gt;&gt;<br/>State<br/></div></div></div></foreignObject><path d="M 235 375 L 235 340" class="none-stroke" stroke-dasharray="6 6" stroke-miterlimit="10" stroke-width="2"/><path d="M 70 375 L 390 375 L 400 385 L 400 495 L 70 495 L 70 375 Z" class="fill-stroke" stroke-miterlimit="10"/><path d="M 390 375 L 390 385 L 400 385 Z" fill-opacity="0.05" class="fill-none"/><path d="M 390 375 L 390 385 L 400 385" class="none-stroke" stroke-miterlimit="10"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:328px;padding-top:435px;margin-left:72px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv">initialState = new ConcreteState()<br/>context = new Context(initialState)<br/>context.doThis()<br/>// Current state may have been<br/>// changed by context or the state<br/>// object self.</div></div></div></foreignObject><rect height="30" class="none-stroke" width="160" x="455" y="60"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:158px;padding-top:75px;margin-left:457px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">+ doThis()</div></div></div></div></foreignObject><path d="M 535 185 L 535 136.24" class="none-stroke" stroke-dasharray="6 6" stroke-miterlimit="10" stroke-width="2"/><path d="M 535 122.24 L 542 136.24 L 528 136.24 Z" class="none-stroke" stroke-miterlimit="10" stroke-width="2"/><rect class="fill-stroke" height="60" width="200" x="435" y="185"/><foreignObject class="leftdiv" ><div class="flexcenter flexzero" style="width:198px;padding-top:215px;margin-left:436px" xmlns="http://www.w3.org/1999/xhtml"><div class="centerdiv"><div class="normaldiv">Concrete<br/>State<br/></div></div></div></foreignObject><rect class="fill-stroke" height="30" width="200" x="435" y="275"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:290px;margin-left:437px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">+ setContext(context)</div></div></div></div></foreignObject><path d="M 255 215 L 255 135 L 205 135" class="none-stroke" stroke-dasharray="6 6" stroke-miterlimit="10" stroke-width="2"/><path d="M 255 215 L 385 215 L 395 225 L 395 255 L 255 255 L 255 215 Z" class="fill-stroke" stroke-miterlimit="10"/><path d="M 385 215 L 385 225 L 395 225 Z" fill-opacity="0.05" class="fill-none"/><path d="M 385 215 L 385 225 L 395 225" class="none-stroke" stroke-miterlimit="10"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:138px;padding-top:235px;margin-left:257px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv">state.doThis()</div></div></div></foreignObject><rect class="fill-stroke" height="30" width="200" x="435" y="245"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:260px;margin-left:437px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">- context</div></div></div></div></foreignObject><rect class="fill-stroke" height="30" width="200" x="435" y="305"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:320px;margin-left:437px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">+ doThis()</div></div></div></div></foreignObject><rect class="fill-stroke" height="30" width="200" x="435" y="335"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:350px;margin-left:437px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">+ doThat()</div></div></div></div></foreignObject><rect height="30" class="none-stroke" width="160" x="455" y="90"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:158px;padding-top:105px;margin-left:457px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">+ doThat()</div></div></div></div></foreignObject><ellipse cx="200" cy="135" fill="rgb(255, 255, 255)" rx="5" ry="5" stroke="gray" stroke-width="2"/><path d="M 435 405 L 435 365" class="none-stroke" stroke-dasharray="6 6" stroke-miterlimit="10" stroke-width="2"/><path d="M 435 405 L 675 405 L 685 415 L 685 495 L 435 495 L 435 405 Z" class="fill-stroke" stroke-miterlimit="10"/><path d="M 675 405 L 675 415 L 685 415 Z" fill-opacity="0.05" class="fill-none"/><path d="M 675 405 L 675 415 L 685 415" class="none-stroke" stroke-miterlimit="10"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:248px;padding-top:450px;margin-left:437px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv">// A state may issue state<br/>// transition in context<br/>state = new OtherState()<br/>context.changeState(state)</div></div></div></foreignObject></svg>
