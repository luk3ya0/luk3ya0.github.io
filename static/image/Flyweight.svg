<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="770" height="504" viewBox="-0.5 -0.5 770 504">
        <defs><style> @import url(https://fonts.googleapis.com/css?family=Fira+Code); </style></defs>
        <path class="none-stroke" d="M408 172h360v30H408z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexdiv flexzero" style="width:358px;padding-top:187px;margin-left:409px"><div  class="centerdiv"><div style="Fira Code&quot;;white-space:normal;overflow-wrap:normal">Context</div></div></div></foreignObject><path class="none-stroke" stroke-miterlimit="10" stroke-width="2" d="M392.03 217H388V75h-95.53" /><path class="none-stroke" stroke-miterlimit="10" stroke-width="2" d="m406.03 217-7 4.12-7-4.12 7-4.12ZM298.24 71l-8 4 8 4" /><path class="none-stroke" d="M408 202h360v30H408z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:358px;padding-top:217px;margin-left:410px"><div class="leftdiv"><div class="normaldiv">- uniqueState</div></div></div></foreignObject><path class="none-stroke" stroke-miterlimit="10" stroke-width="2" d="M392.03 247H282.47" /><path class="none-stroke" stroke-miterlimit="10" stroke-width="2" d="m406.03 247-7 4.12-7-4.12 7-4.12ZM288.24 243l-8 4 8 4" /><path class="none-stroke" d="M408 232h360v30H408z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:358px;padding-top:247px;margin-left:410px"><div class="leftdiv"><div class="normaldiv">- flyweight</div></div></div></foreignObject><path class="none-stroke" stroke-dasharray="6 6" stroke-miterlimit="10" stroke-width="2" d="M405 277q-72 0-72.05 100.04" /><circle cx="408" cy="277" r="3" class="none-stroke" stroke-width="2" /><path class="none-stroke" d="M408 262h360v30H408z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:358px;padding-top:277px;margin-left:410px"><div class="leftdiv"><div class="normaldiv">+ Context(repeatingState, uniqueState)</div></div></div></foreignObject><path class="none-stroke" d="M408 292h360v30H408z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:358px;padding-top:307px;margin-left:410px"><div class="leftdiv"><div class="normaldiv">+ operation()</div></div></div></foreignObject><path fill="#e1e1e1" stroke="gray" stroke-miterlimit="10" d="M278 382h340l10 10v70H278v-80Z" /><path fill-opacity=".05" d="M618 382v10h10Z" /><path class="none-stroke" stroke-miterlimit="10" d="M618 382v10h10" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:348px;padding-top:422px;margin-left:280px"><div class="leftdiv"><div class="normaldiv">this.uniqueState = uniqueState<br/>this.flyweight =<br/>factory.getFlyweight(repeatingState)</div></div></div></foreignObject><path fill="#e1e1e1" stroke="gray" stroke-miterlimit="10" d="M458 472h300l10 10v20H458v-30Z" /><path fill-opacity=".05" d="M758 472v10h10Z" /><path class="none-stroke" stroke-miterlimit="10" d="M758 472v10h10" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:308px;padding-top:487px;margin-left:460px"><div class="leftdiv"><div class="normaldiv">flyweight.operation(uniqueState)</div></div></div></foreignObject><path class="none-stroke" stroke-dasharray="6 6" stroke-miterlimit="10" stroke-width="2" d="M537.96 313q.04 22 65.04 22t65 135" /><circle cx="537.96" cy="310" r="3" class="none-stroke" stroke-width="2" /><path class="none-stroke" d="M8 0h280v30H8z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexdiv flexzero" style="width:278px;padding-top:15px;margin-left:9px"><div  class="centerdiv"><div class="normaldiv">FlyweightFactory<br/></div></div></div></foreignObject><path class="none-stroke" d="M8 30h280v30H8z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:278px;padding-top:45px;margin-left:10px"><div  class="leftdiv"><div class="normaldiv"><div>- cache: Flyweight[]</div></div></div></div></foreignObject><path class="none-stroke" stroke-miterlimit="10" stroke-width="2" d="M15 105.97v121.56" /><path class="none-stroke" stroke-miterlimit="10" stroke-width="2" d="m15 91.97 4.12 7-4.12 7-4.12-7ZM11 221.76l4 8 4-8" /><path class="none-stroke" d="M8 60h280v30H8z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:278px;padding-top:75px;margin-left:10px"><div  class="leftdiv"><div class="normaldiv"><div>+ getFlyweight(repeatingState)</div></div></div></div></foreignObject><path class="none-stroke" d="M8 232h270v30H8z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexdiv flexzero" style="width:268px;padding-top:247px;margin-left:9px"><div  class="centerdiv"><div class="normaldiv">Flyweight<br/></div></div></div></foreignObject><path class="none-stroke" d="M8 262h270v30H8z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:268px;padding-top:277px;margin-left:10px"><div  class="leftdiv"><div class="normaldiv"><div>- repeatingState</div></div></div></div></foreignObject><path class="none-stroke" d="M8 292h270v30H8z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:268px;padding-top:307px;margin-left:10px"><div  class="leftdiv"><div class="normaldiv"><div>+ operation(uniqueState)</div></div></div></div></foreignObject><path class="none-stroke" stroke-miterlimit="10" stroke-width="2" d="M588 90.97v76.56" /><path fill="gray" stroke="gray" stroke-miterlimit="10" stroke-width="2" d="m588 76.97 4.12 7-4.12 7-4.12-7Z" /><path class="none-stroke" stroke-miterlimit="10" stroke-width="2" d="m584 161.76 4 8 4-8" /><path class="none-stroke" d="M508 15h160v60H508z" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexdiv flexzero" style="width:158px;padding-top:45px;margin-left:509px"><div  class="centerdiv"><div class="normaldiv">Client<br/></div></div></div></foreignObject><path fill="#e1e1e1" stroke="gray" stroke-miterlimit="10" d="M26 100h340l10 10v110H26V100Z" /><path fill-opacity=".05" d="M366 100v10h10Z" /><path class="none-stroke" stroke-miterlimit="10" d="M366 100v10h10" /><foreignObject    class="leftdiv"><div xmlns="http://www.w3.org/1999/xhtml" class="flexstart flexzero" style="width:348px;padding-top:160px;margin-left:28px"><div class="leftdiv"><div class="normaldiv">if (cache[repeatingState] == null) {<br/>cache[repeatingState] =<br/>new Flyweight(operatingState)<br/>}<br/><br/>return cache[repeatingState]</div></div></div></foreignObject></svg>