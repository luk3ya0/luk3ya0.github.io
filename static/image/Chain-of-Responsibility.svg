<svg height="472px" version="1.1" viewBox="-0.5 -0.5 597 472" width="597px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs/><path d="M 70.53 30 L 15 30 L 15 235 L 39.03 235" class="none-stroke" stroke-miterlimit="10" stroke-width="2"/><path d="M 58.76 37 L 72.76 30 L 58.76 23" class="none-stroke" stroke-miterlimit="10" stroke-width="2"/><path d="M 53.03 235 L 46.03 239.12 L 39.03 235 L 46.03 230.88 Z" class="none-stroke" stroke-miterlimit="10" stroke-width="2"/><rect height="60" class="none-stroke" width="200" x="75" y="0"/><foreignObject class="leftdiv" ><div class="flexcenter flexzero" style="width:198px;padding-top:30px;margin-left:76px" xmlns="http://www.w3.org/1999/xhtml"><div class="centerdiv"><div class="normaldiv">&lt;&lt;interface&gt;&gt;<br/>Handler<br/></div></div></div></foreignObject><rect height="30" class="none-stroke" width="200" x="75" y="60"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:75px;margin-left:77px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">+ setNext(h:Handler)</div></div></div></div></foreignObject><rect height="30" class="none-stroke" width="200" x="75" y="90"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:105px;margin-left:77px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">+ handle(request)</div></div></div></div></foreignObject><path d="M 175 190 L 175 134.24" class="none-stroke" stroke-dasharray="6 6" stroke-miterlimit="10" stroke-width="2"/><path d="M 175 122.24 L 181 134.24 L 169 134.24 Z" class="none-stroke" stroke-miterlimit="10" stroke-width="2"/><rect height="30" class="none-stroke" width="240" x="55" y="190"/><foreignObject class="leftdiv" ><div class="flexcenter flexzero" style="width:238px;padding-top:205px;margin-left:56px" xmlns="http://www.w3.org/1999/xhtml"><div class="centerdiv"><div class="normaldiv">BaseHandler<br/></div></div></div></foreignObject><rect height="30" class="none-stroke" width="240" x="55" y="220"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:238px;padding-top:235px;margin-left:57px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">- next:Handler</div></div></div></div></foreignObject><rect height="30" class="none-stroke" width="240" x="55" y="250"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:238px;padding-top:265px;margin-left:57px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">+ setNext(h:Handler)</div></div></div></div></foreignObject><rect height="30" class="none-stroke" width="240" x="55" y="280"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:238px;padding-top:295px;margin-left:57px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">+ handle(request)</div></div></div></div></foreignObject><rect class="fill-stroke" height="90" width="200" x="85" y="380"/><rect class="fill-stroke" height="30" width="200" x="85" y="380"/><foreignObject class="leftdiv" ><div class="flexcenter flexzero" style="width:198px;padding-top:395px;margin-left:86px" xmlns="http://www.w3.org/1999/xhtml"><div class="centerdiv"><div class="normaldiv">ConcreteHandler<br/></div></div></div></foreignObject><rect class="fill-stroke" height="30" width="200" x="85" y="410"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:425px;margin-left:87px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">...</div></div></div></div></foreignObject><rect class="fill-stroke" height="30" width="200" x="85" y="440"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:455px;margin-left:87px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">+ handle(request)</div></div></div></div></foreignObject><rect class="fill-stroke" height="90" width="200" x="75" y="370"/><rect class="fill-stroke" height="30" width="200" x="75" y="370"/><foreignObject class="leftdiv" ><div class="flexcenter flexzero" style="width:198px;padding-top:385px;margin-left:76px" xmlns="http://www.w3.org/1999/xhtml"><div class="centerdiv"><div class="normaldiv">ConcreteHandler<br/></div></div></div></foreignObject><rect class="fill-stroke" height="30" width="200" x="75" y="400"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:415px;margin-left:77px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">...</div></div></div></div></foreignObject><rect class="fill-stroke" height="30" width="200" x="75" y="430"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:445px;margin-left:77px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">+ handle(request)</div></div></div></div></foreignObject><path d="M 175 370 L 175 324.24" class="none-stroke" stroke-miterlimit="10" stroke-width="2"/><path d="M 175 312.24 L 181 324.24 L 169 324.24 Z" class="none-stroke" stroke-miterlimit="10" stroke-width="2"/><path d="M 355 30 L 279.47 30" class="none-stroke" stroke-miterlimit="10" stroke-width="2"/><path d="M 289.24 24 L 277.24 30 L 289.24 36" class="none-stroke" stroke-miterlimit="10" stroke-width="2"/><path d="M 435 60 L 435 90" class="none-stroke" stroke-dasharray="6 6" stroke-miterlimit="10" stroke-width="2"/><rect height="60" class="none-stroke" width="160" x="355" y="0"/><foreignObject class="leftdiv" ><div class="flexcenter flexzero" style="width:158px;padding-top:30px;margin-left:356px" xmlns="http://www.w3.org/1999/xhtml"><div class="centerdiv"><div class="normaldiv">Client<br/></div></div></div></foreignObject><path d="M 335 90 L 525 90 L 535 100 L 535 230 L 335 230 L 335 90 Z" class="fill-stroke" stroke-miterlimit="10"/><path d="M 525 90 L 525 100 L 535 100 Z" fill-opacity="0.05" class="fill-none"/><path d="M 525 90 L 525 100 L 535 100" class="none-stroke" stroke-miterlimit="10"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:160px;margin-left:337px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv">h1 = new HandlerA()<br/>h2 = new HandlerB()<br/>h3 = new HandlerC()<br/>h1.setNext(h2)<br/>h2.setNext(h3)<br/>// ...<br/>h1.handle(request)</div></div></div></foreignObject><path d="M 335 295 L 295 295" class="none-stroke" stroke-dasharray="6 6" stroke-miterlimit="10" stroke-width="2"/><path d="M 335 265 L 555 265 L 565 275 L 565 325 L 335 325 L 335 265 Z" class="fill-stroke" stroke-miterlimit="10"/><path d="M 555 265 L 555 275 L 565 275 Z" fill-opacity="0.05" class="fill-none"/><path d="M 555 265 L 555 275 L 565 275" class="none-stroke" stroke-miterlimit="10"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:228px;padding-top:295px;margin-left:337px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv">if (next != null)<br/>next.handle(request)</div></div></div></foreignObject><path d="M 335 360 L 585 360 L 595 370 L 595 460 L 335 460 L 335 360 Z" class="fill-stroke" stroke-miterlimit="10"/><path d="M 585 360 L 585 370 L 595 370 Z" fill-opacity="0.05" class="fill-none"/><path d="M 585 360 L 585 370 L 595 370" class="none-stroke" stroke-miterlimit="10"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:258px;padding-top:410px;margin-left:337px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv">if (canHandle(request)) {<br/>// ...<br/>} else {<br/>parent::handle(request)<br/>}</div></div></div></foreignObject><path d="M 275 445 L 335 445" class="none-stroke" stroke-dasharray="6 6" stroke-miterlimit="10" stroke-width="2"/></svg>
