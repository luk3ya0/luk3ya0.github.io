<svg height="298px" version="1.1" viewBox="-0.5 -0.5 783 298" width="783px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs/><path d="M 581 221 L 771 221 L 781 231 L 781 296 L 581 296 L 581 221 Z" class="fill-stroke" stroke-miterlimit="10"/><path d="M 771 221 L 771 231 L 781 231 Z" fill="none" fill-opacity="0.05" stroke="none"/><path d="M 771 221 L 771 231 L 781 231" class="none-stroke" stroke-miterlimit="10"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:259px;margin-left:583px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv">m = originator.save()<br/>history.push(m)<br/>// originator.change()</div></div></div></foreignObject><path d="M 461 221 L 461 191 L 663 191 L 663 161" class="none-stroke" stroke-dasharray="6 6" stroke-miterlimit="10" stroke-width="2"/><path d="M 361 221 L 551 221 L 561 231 L 561 281 L 361 281 L 361 221 Z" class="fill-stroke" stroke-miterlimit="10"/><path d="M 551 221 L 551 231 L 561 231 Z" fill="none" fill-opacity="0.05" stroke="none"/><path d="M 551 221 L 551 231 L 561 231" class="none-stroke" stroke-miterlimit="10"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:251px;margin-left:363px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv">m = history.pop()<br/>originator.restore(m)</div></div></div></foreignObject><rect height="30" class="none-stroke" width="200" x="21" y="21"/><foreignObject class="leftdiv" ><div class="flexcenter flexzero" style="width:198px;padding-top:36px;margin-left:22px" xmlns="http://www.w3.org/1999/xhtml"><div class="centerdiv"><div class="normaldiv">Originator<br/></div></div></div></foreignObject><path d="M 221 66 L 296.53 66" class="none-stroke" stroke-dasharray="6 6" stroke-miterlimit="10" stroke-width="2"/><path d="M 286.76 72 L 298.76 66 L 286.76 60" class="none-stroke" stroke-miterlimit="10" stroke-width="2"/><rect height="30" class="none-stroke" width="200" x="21" y="51"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:66px;margin-left:23px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">- state</div></div></div></div></foreignObject><rect height="30" class="none-stroke" width="200" x="301" y="21"/><foreignObject class="leftdiv" ><div class="flexcenter flexzero" style="width:198px;padding-top:36px;margin-left:302px" xmlns="http://www.w3.org/1999/xhtml"><div class="centerdiv"><div class="normaldiv">Memento<br/></div></div></div></foreignObject><rect height="30" class="none-stroke" width="200" x="581" y="21"/><foreignObject class="leftdiv" ><div class="flexcenter flexzero" style="width:198px;padding-top:36px;margin-left:582px" xmlns="http://www.w3.org/1999/xhtml"><div class="centerdiv"><div class="normaldiv">Caretaker<br/></div></div></div></foreignObject><path d="M 505.47 66 L 565.03 66" class="none-stroke" stroke-miterlimit="10" stroke-width="2"/><path d="M 517.24 59 L 503.24 66 L 517.24 73" class="none-stroke" stroke-miterlimit="10" stroke-width="2"/><path d="M 579.03 66 L 572.03 70.12 L 565.03 66 L 572.03 61.88 Z" class="none-stroke" stroke-miterlimit="10" stroke-width="2"/><rect height="30" class="none-stroke" width="200" x="301" y="51"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:66px;margin-left:303px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">- state</div></div></div></div></foreignObject><rect height="30" class="none-stroke" width="200" x="581" y="81"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:96px;margin-left:583px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">- history:Memento[]</div></div></div></div></foreignObject><rect height="30" class="none-stroke" width="200" x="581" y="51"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:66px;margin-left:583px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">- originator</div></div></div></div></foreignObject><rect height="30" class="none-stroke" width="200" x="301" y="81"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:96px;margin-left:303px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">- Memento(state)</div></div></div></div></foreignObject><rect height="30" class="none-stroke" width="200" x="301" y="111"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:126px;margin-left:303px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">- getState()</div></div></div></div></foreignObject><rect height="30" class="none-stroke" width="200" x="581" y="141"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:156px;margin-left:583px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">+ undo()</div></div></div></div></foreignObject><rect height="30" class="none-stroke" width="200" x="581" y="111"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:126px;margin-left:583px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">+ doSomething()</div></div></div></div></foreignObject><rect height="30" class="none-stroke" width="200" x="21" y="111"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:126px;margin-left:23px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">+ restore(m:Memento)</div></div></div></div></foreignObject><rect height="30" class="none-stroke" width="200" x="21" y="81"/><foreignObject class="leftdiv" ><div class="flexstart flexzero" style="width:198px;padding-top:96px;margin-left:23px" xmlns="http://www.w3.org/1999/xhtml"><div class="leftdiv"><div class="normaldiv"><div style="">+ save():Memento</div></div></div></div></foreignObject><rect height="160" rx="24" ry="24" fill="none" stroke="#ff907e" stroke-dasharray="6 6" stroke-width="2" width="520" x="1" y="1"/><ellipse cx="663" cy="156" fill="none" rx="5" ry="5" class="none-stroke"/><path d="M 731 126 L 731 191 L 731 215.97" class="none-stroke" stroke-dasharray="6 6" stroke-miterlimit="10" stroke-width="2"/><ellipse cx="726" cy="126" fill="none" rx="5" ry="5" stroke="gray"/></svg>
